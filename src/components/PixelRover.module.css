.container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: hidden;
    z-index: 10;
}

.trackSvg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: visible;
}

.roverWrapper {
    position: absolute;
    width: 32px;
    height: 32px;
    will-change: transform;
    cursor: pointer;
    pointer-events: auto;
    z-index: 20;
    transition: transform 0.1s ease-out;
}

/* Held state - picked up by user */
.roverWrapper.held {
    cursor: grabbing;
    z-index: 100;
}

.roverWrapper.held .roverBody {
    transform: scale(1.15);
    animation: wriggle 0.8s ease-in-out infinite;
}

@keyframes wriggle {

    0%,
    100% {
        transform: scale(1.15) rotate(-8deg);
    }

    25% {
        transform: scale(1.15) rotate(5deg);
    }

    50% {
        transform: scale(1.15) rotate(-6deg);
    }

    75% {
        transform: scale(1.15) rotate(7deg);
    }
}

/* Rover sprite container - receives shake animation */
.roverBody {
    position: relative;
    width: 32px;
    height: 32px;
}

.rover {
    width: 2px;
    height: 2px;
    background: transparent;
    color: var(--color-text-secondary);
    /* 
       Cute Mars Rover (Top Down) - 32x32 Grid (2px units)
       More detailed design with antenna, solar panel, wheels
    */
    box-shadow:
        /* === BODY (Central rectangular chassis) === */
        /* Main body - 3 rows */
        10px 10px 0 0 currentColor, 12px 10px 0 0 currentColor, 14px 10px 0 0 currentColor, 16px 10px 0 0 currentColor, 18px 10px 0 0 currentColor, 20px 10px 0 0 currentColor,
        10px 12px 0 0 currentColor, 12px 12px 0 0 currentColor, 14px 12px 0 0 currentColor, 16px 12px 0 0 currentColor, 18px 12px 0 0 currentColor, 20px 12px 0 0 currentColor,
        10px 14px 0 0 currentColor, 12px 14px 0 0 currentColor, 14px 14px 0 0 currentColor, 16px 14px 0 0 currentColor, 18px 14px 0 0 currentColor, 20px 14px 0 0 currentColor,
        10px 16px 0 0 currentColor, 12px 16px 0 0 currentColor, 14px 16px 0 0 currentColor, 16px 16px 0 0 currentColor, 18px 16px 0 0 currentColor, 20px 16px 0 0 currentColor,
        10px 18px 0 0 currentColor, 12px 18px 0 0 currentColor, 14px 18px 0 0 currentColor, 16px 18px 0 0 currentColor, 18px 18px 0 0 currentColor, 20px 18px 0 0 currentColor,

        /* Solar panel detail (darker center stripe) */
        12px 14px 0 0 color-mix(in srgb, currentColor, black 30%), 14px 14px 0 0 color-mix(in srgb, currentColor, black 30%), 16px 14px 0 0 color-mix(in srgb, currentColor, black 30%), 18px 14px 0 0 color-mix(in srgb, currentColor, black 30%),

        /* === WHEELS (6 wheels like real Mars rover) === */
        /* Front wheels */
        6px 8px 0 0 color-mix(in srgb, currentColor, black 40%), 8px 8px 0 0 color-mix(in srgb, currentColor, black 40%),
        6px 10px 0 0 color-mix(in srgb, currentColor, black 40%), 8px 10px 0 0 color-mix(in srgb, currentColor, black 40%),
        22px 8px 0 0 color-mix(in srgb, currentColor, black 40%), 24px 8px 0 0 color-mix(in srgb, currentColor, black 40%),
        22px 10px 0 0 color-mix(in srgb, currentColor, black 40%), 24px 10px 0 0 color-mix(in srgb, currentColor, black 40%),
        /* Middle wheels */
        4px 14px 0 0 color-mix(in srgb, currentColor, black 40%), 6px 14px 0 0 color-mix(in srgb, currentColor, black 40%),
        4px 16px 0 0 color-mix(in srgb, currentColor, black 40%), 6px 16px 0 0 color-mix(in srgb, currentColor, black 40%),
        24px 14px 0 0 color-mix(in srgb, currentColor, black 40%), 26px 14px 0 0 color-mix(in srgb, currentColor, black 40%),
        24px 16px 0 0 color-mix(in srgb, currentColor, black 40%), 26px 16px 0 0 color-mix(in srgb, currentColor, black 40%),
        /* Rear wheels */
        6px 20px 0 0 color-mix(in srgb, currentColor, black 40%), 8px 20px 0 0 color-mix(in srgb, currentColor, black 40%),
        6px 22px 0 0 color-mix(in srgb, currentColor, black 40%), 8px 22px 0 0 color-mix(in srgb, currentColor, black 40%),
        22px 20px 0 0 color-mix(in srgb, currentColor, black 40%), 24px 20px 0 0 color-mix(in srgb, currentColor, black 40%),
        22px 22px 0 0 color-mix(in srgb, currentColor, black 40%), 24px 22px 0 0 color-mix(in srgb, currentColor, black 40%),

        /* === ANTENNA (mast at front) === */
        14px 4px 0 0 currentColor, 16px 4px 0 0 currentColor,
        14px 6px 0 0 currentColor, 16px 6px 0 0 currentColor,
        14px 8px 0 0 currentColor, 16px 8px 0 0 currentColor,

        /* Antenna tip (accent color) */
        14px 2px 0 0 var(--color-accent-highlight), 16px 2px 0 0 var(--color-accent-highlight),

        /* === CAMERA/SENSOR (front) === */
        12px 6px 0 0 var(--color-accent-secondary), 18px 6px 0 0 var(--color-accent-secondary);
}

/* Radar - sweeping with gradient trail like ship radar */
.radar {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 120px;
    height: 120px;
    transform: translate(-50%, -50%);
    border-radius: 50%;
    background: conic-gradient(from 0deg,
            transparent 0deg,
            transparent 320deg,
            var(--color-accent-secondary) 345deg,
            var(--color-accent-highlight) 358deg,
            transparent 360deg);
    opacity: 0;
    pointer-events: none;
}

.roverWrapper.scanning .radar {
    animation: radarSweep 2.5s linear infinite;
    opacity: 0.6;
}

@keyframes radarSweep {
    0% {
        transform: translate(-50%, -50%) rotate(0deg);
    }

    100% {
        transform: translate(-50%, -50%) rotate(360deg);
    }
}

/* Radar-detected lidar dot */
.radarPing {
    position: absolute;
    width: 4px;
    height: 4px;
    border-radius: 50%;
    background: var(--color-accent-highlight);
    pointer-events: none;
    animation: dotFade 1.5s ease-out forwards;
    box-shadow: 0 0 6px 2px var(--color-accent-highlight), 0 0 12px 4px var(--color-accent-secondary);
}

@keyframes dotFade {
    0% {
        opacity: 1;
        transform: scale(1);
    }

    50% {
        opacity: 0.6;
        transform: scale(0.8);
    }

    100% {
        opacity: 0;
        transform: scale(0.3);
    }
}

/* Bumping Animation - damped jolt that settles */
.roverWrapper.bumping .roverBody {
    animation: dampedJolt 0.5s ease-out forwards;
}

@keyframes dampedJolt {
    0% {
        transform: translate(0, 0) rotate(0deg);
    }

    8% {
        transform: translate(-3px, 0) rotate(-4deg);
    }

    16% {
        transform: translate(3px, 0) rotate(4deg);
    }

    28% {
        transform: translate(-2px, 0) rotate(-2.5deg);
    }

    40% {
        transform: translate(2px, 0) rotate(2.5deg);
    }

    55% {
        transform: translate(-1px, 0) rotate(-1deg);
    }

    70% {
        transform: translate(1px, 0) rotate(1deg);
    }

    85% {
        transform: translate(-0.5px, 0) rotate(-0.5deg);
    }

    100% {
        transform: translate(0, 0) rotate(0deg);
    }
}

/* Moving bounce - bumpy buggy effect */
.roverWrapper.moving .roverBody {
    animation: buggyBump 0.6s infinite ease-in-out;
}

@keyframes buggyBump {

    0%,
    100% {
        transform: translateY(0) rotate(0deg);
    }

    20% {
        transform: translateY(-0.5px) rotate(-0.2deg);
    }

    40% {
        transform: translateY(0.3px) rotate(0.15deg);
    }

    60% {
        transform: translateY(-0.4px) rotate(-0.25deg);
    }

    80% {
        transform: translateY(0.2px) rotate(0.1deg);
    }
}

@keyframes radarSpin {
    0% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(360deg);
    }
}

/* TRACKS */
.track {
    position: absolute;
    width: 4px;
    height: 4px;
    background: var(--color-text-secondary);
    opacity: 0.3;
    border-radius: 1px;
    animation: fadeTrack 4s forwards;
    pointer-events: none;
}

@keyframes fadeTrack {
    0% {
        opacity: 0.3;
        transform: scale(1);
    }

    100% {
        opacity: 0;
        transform: scale(0.5);
    }
}

/* Zzz Particles */
.zzz {
    position: absolute;
    top: -10px;
    right: -5px;
    font-family: var(--font-mono);
    font-size: 10px;
    color: var(--color-text-secondary);
    opacity: 0;
    animation: floatUp 2s infinite;
}

.zzz:nth-child(2) {
    animation-delay: 0.6s;
    right: 0;
}

.zzz:nth-child(3) {
    animation-delay: 1.2s;
    right: -10px;
}

@keyframes floatUp {
    0% {
        transform: translateY(0) scale(0.8);
        opacity: 0;
    }

    20% {
        opacity: 0.8;
    }

    100% {
        transform: translateY(-20px) scale(1.2);
        opacity: 0;
    }
}